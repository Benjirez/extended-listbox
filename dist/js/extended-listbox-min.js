/*!
 * Extended ListBox
 * Maintainer  Christian Kotzbauer <christian.kotzbauer@gmail.com>
 * Website     https://code-chris.github.io/extended-listbox/documentation/latest/
 * Version     2.0.0
 * Released    2017-02-04T12:35:20.615Z
 * License     MIT
 * Copyright   (c) 2017
 */
var extendedlistbox=function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,i){var s,n;s=[i,e,i(7)],n=function(t,e,i){"use strict";var s=function(){function t(t,e,s){this._target=t,this._box=s,this._settings=e,this.eventHandler=new i(this)}return t.prototype.onItemClick=function(t){this._box.onItemClick(t)},t.prototype.onFilterChange=function(){this._box.onFilterChange()},t.prototype.createListbox=function(){this._target.addClass(t.MAIN_CLASS),this._settings.searchBar&&this._createSearchbar(),this._createList()},t.prototype._createSearchbar=function(){var e=$("<div>").addClass(t.SEARCHBAR_CLASS+"-wrapper").appendTo(this._target),i=$("<input>").addClass(t.SEARCHBAR_CLASS).appendTo(e).attr("placeholder",this._settings.searchBarWatermark),s=this;if(i.keyup(function(){var e=$(this).val().toLowerCase();""!==e?(s._list.find("."+t.LIST_ITEM_CLASS).each(function(){var i=$(this);if(!i.hasClass(t.LIST_ITEM_CLASS_GROUP)){var s=i.text().toLowerCase();s.search("^"+e)!==-1?(i.css("display","block"),i.parent().css("display","block")):i.css("display","none")}}),s._list.find("."+t.LIST_ITEM_CLASS_GROUP).each(function(){var t=$(this);0===t.children(":visible").length?t.css("display","none"):t.css("display","block")})):s._list.find("."+t.LIST_ITEM_CLASS).each(function(){$(this).css("display","block")}),s.onFilterChange&&s.onFilterChange()}),this._settings.searchBarButton.visible){var n=$("<button>").attr("id","searchBarButton").attr("tabindex","-1").addClass(t.SEARCHBAR_BUTTON_CLASS).appendTo(e);this._settings.searchBarButton.onClick&&n.click(this._settings.searchBarButton.onClick),$("<i>").addClass(this._settings.searchBarButton.icon).appendTo(n)}this._searchbarWrapper=e,this._searchbar=i},t.prototype._createList=function(){if(this._list=$("<div>").addClass(t.LIST_CLASS).appendTo(this._target),this._resizeListToListbox(),this._settings.getItems){var e=this._settings.getItems();if(e){var i;for(i in e)this.addItem(this._prepareDataItem(e[i]),!0)}}},t.prototype._generateItemId=function(){var t=parseInt(""+1e7*Math.random(),10);return"listboxitem"+t},t.prototype._prepareDataItem=function(t){var e={childItems:[],disabled:!1,groupHeader:null,id:null,parentGroupId:null,selected:!1,text:null,index:null};if(t.id||(e.id=this._generateItemId()),"string"==typeof t||"number"==typeof t)return e.text=t,e;e=$.extend(e,t);var i,s=[];for(i in e.childItems)s.push(this._prepareDataItem(e.childItems[i]));return e.childItems=s,e},t.prototype._addItem=function(e,i,s){var n=this,o=$("<div>").addClass(t.LIST_ITEM_CLASS).text(e.text).attr("id",e.id).attr("title",e.text).attr("tabindex","1").data("dataItem",e).keydown(function(e){var i=$(e.target);i.hasClass(t.LIST_ITEM_CLASS_GROUP)||2!==e.eventPhase||(13===e.which?n.onItemEnterPressed(i):38===e.which?(e.preventDefault(),n.onItemArrowUp(i)):40===e.which&&(e.preventDefault(),n.onItemArrowDown(i)))}).click(function(){n.onItemClick($(this))}).dblclick(function(){var e=$(this);e.hasClass(t.LIST_ITEM_CLASS_GROUP)||n.onItemDoubleClicked(e)});if(e.disabled&&o.addClass(t.LIST_ITEM_CLASS_DISABLED),e.groupHeader&&o.addClass(t.LIST_ITEM_CLASS_GROUP),e.selected&&this.onItemClick(o),e.parentGroupId){var r=this.locateItem(e.parentGroupId);r&&(s=r)}s&&o.addClass(t.LIST_ITEM_CLASS_CHILD);var a=s?s:this._list;if(void 0===e.index||null===e.index||i?o.appendTo(a):(a=a.children().eq(e.index),o.insertBefore(a)),e.childItems&&e.childItems.length>0){o.hasClass(t.LIST_ITEM_CLASS_GROUP)||o.addClass(t.LIST_ITEM_CLASS_GROUP);var l;for(l=0;l<e.childItems.length;l++){var h=e.childItems[l];this._addItem(h,i,o)}}return e.id},t.prototype.addItem=function(t,e){e||this._settings.multiple||!t.selected||this.clearSelection(e);var i=this._addItem(this._prepareDataItem(t),e,null);return e||this.eventHandler.fireItemsChangedEvent(this.getItems()),i},t.prototype.removeItem=function(t){var e=this.locateItem(t);e&&(this._clearItemSelection(e),e.remove(),this.eventHandler.fireItemsChangedEvent(this.getItems()))},t.prototype.destroy=function(){this._target.children().remove(),this._target.removeClass(t.MAIN_CLASS)},t.prototype._resizeListToListbox=function(){var t=this._target.height();this._settings.searchBar&&(t-=this._searchbarWrapper.outerHeight(!0)),this._list.height(t)},t.prototype.clearSelection=function(e){var i=this._list.find("."+t.LIST_ITEM_CLASS);i.removeClass(t.LIST_ITEM_CLASS_SELECTED);var s;for(s=0;s<i.length;s++)$(i[s]).data("dataItem").selected=!1;this._settings.multiple?this._target.val([]):this._target.val(null),e||this._target.trigger("change")},t.prototype._clearItemSelection=function(e){if(e.removeClass(t.LIST_ITEM_CLASS_SELECTED),e.data("dataItem").selected=!1,this._settings.multiple){var i=this._target.val();if(i){var s=i.indexOf(JSON.stringify(e.data("dataItem")));i.splice(s,1),this._target.val(i)}}else this._target.val(null);this._target.trigger("change")},t.prototype.getItem=function(t){var e=null,i=this.locateItem(t);return i&&(e=i.data("dataItem")),e},t.prototype.getItems=function(){var t,e=[],i=this._list.children();for(t=0;t<i.length;t++)e.push($(i[t]).data("dataItem"));return e},t.prototype.moveItemUp=function(t){var e=null,i=this.locateItem(t);return i&&(i.insertBefore(i.prev()),e=i.index(),i.data("dataItem").index=e),this.eventHandler.fireItemsChangedEvent(this.getItems()),e},t.prototype.moveItemDown=function(t){var e=null,i=this.locateItem(t);return i&&(i.insertAfter(i.next()),e=i.index(),i.data("dataItem").index=e),this.eventHandler.fireItemsChangedEvent(this.getItems()),e},t.prototype.moveItemToTop=function(t){var e=null,i=this.locateItem(t);return i&&(i.parent().prepend(i),e=i.index(),i.data("dataItem").index=e),this.eventHandler.fireItemsChangedEvent(this.getItems()),e},t.prototype.moveItemToBottom=function(t){var e=null,i=this.locateItem(t);return i&&(i.parent().append(i),e=i.index(),i.data("dataItem").index=e),this.eventHandler.fireItemsChangedEvent(this.getItems()),e},t.prototype.enable=function(e){e?this._target.removeClass(t.MAIN_DISABLED_CLASS):this._target.hasClass(t.MAIN_DISABLED_CLASS)||this._target.addClass(t.MAIN_DISABLED_CLASS)},t.prototype.locateItem=function(t){var e=$("#"+t,this._list);return 0===e.length&&(e=$('div[title="'+t+'"]')),0===e.length&&(e=null),e},t.prototype.onItemEnterPressed=function(t){this.eventHandler.fireItemEnterPressedEvent(t.data("dataItem"))},t.prototype.onItemDoubleClicked=function(t){this.eventHandler.fireItemDoubleClickedEvent(t.data("dataItem"))},t.prototype.onItemArrowUp=function(t){var e=this.findNextItem(t,"prev");e&&(this._clearItemSelection(t),this.onItemClick(e))},t.prototype.onItemArrowDown=function(t){var e=this.findNextItem(t,"next");e&&(this._clearItemSelection(t),this.onItemClick(e))},t.prototype.findNextItem=function(e,i){for(var s=e;;){if(s=s[i](),0===s.length){var n=e.parent();if(1!==n.length)return null;var o=n[i]().children();s=o.length>0?"next"===i?o.first():o.last():n}if(!s.hasClass(t.LIST_ITEM_CLASS_DISABLED))return s}},t.prototype.getSelection=function(){var t=this.getItems(),e=[].concat(t);return t.forEach(function(t){e=e.concat(t.childItems)}),e.filter(function(t){return t.selected})},t}();return s.MAIN_CLASS="listbox-root",s.MAIN_DISABLED_CLASS="listbox-disabled",s.LIST_CLASS="listbox",s.LIST_ITEM_CLASS="listbox-item",s.LIST_ITEM_CLASS_DISABLED="listbox-item-disabled",s.LIST_ITEM_CLASS_SELECTED="listbox-item-selected",s.LIST_ITEM_CLASS_GROUP="listbox-item-group",s.LIST_ITEM_CLASS_CHILD="listbox-item-child",s.SEARCHBAR_CLASS="listbox-searchbar",s.SEARCHBAR_BUTTON_CLASS="listbox-searchbar-button",s}.apply(e,s),!(void 0!==n&&(t.exports=n))},function(t,e,i){var s,n;s=[i,e,i(4),i(5),i(3)],n=function(t,e,i,s,n){"use strict";function o(t){var e=$.extend({searchBar:!1,searchBarWatermark:"Search...",searchBarButton:{visible:!1},multiple:!1},t),o=[],r=null,a=this.length>1,l=function(t){a?o.push(t):r=t};return this.each(function(){var t,o,r=$(this);return r.data("listbox-instance")?void l(r.data("listbox-instance")):(t=e.multiple?new i(r,e):new s(r,e),o=n.createFrom(t,r),r.data("listbox",t),r.data("listbox-instance",o),void l(o))}),a?o:r}$.fn.listbox=function(t){if("object"==typeof t||!t)return o.call(this,t)}}.apply(e,s),!(void 0!==n&&(t.exports=n))},function(t,e){},function(t,e,i){var s,n;s=[i,e],n=function(t,e){"use strict";var i=function(){function t(){}return t.createFrom=function(e,i){var s=new t;return s.listbox=e,s.target=i,s},t.prototype.addItem=function(t){return this.listbox.baseListBox.addItem(t,!1)},t.prototype.removeItem=function(t){this.listbox.baseListBox.removeItem(t)},t.prototype.destroy=function(){this.listbox.baseListBox.destroy()},t.prototype.clearSelection=function(){this.listbox.baseListBox.clearSelection(!1)},t.prototype.getItem=function(t){return this.listbox.baseListBox.getItem(t)},t.prototype.getItems=function(){return this.listbox.baseListBox.getItems()},t.prototype.getSelection=function(){return this.listbox.baseListBox.getSelection()},t.prototype.moveItemUp=function(t){return this.listbox.baseListBox.moveItemUp(t)},t.prototype.moveItemDown=function(t){return this.listbox.baseListBox.moveItemDown(t)},t.prototype.moveItemToTop=function(t){return this.listbox.baseListBox.moveItemToTop(t)},t.prototype.moveItemToBottom=function(t){return this.listbox.baseListBox.moveItemToBottom(t)},t.prototype.enable=function(t){this.listbox.baseListBox.enable(t)},t.prototype.onValueChanged=function(t){this.listbox.baseListBox._settings.onValueChanged=t},t.prototype.onItemsChanged=function(t){this.listbox.baseListBox._settings.onItemsChanged=t},t.prototype.onFilterChanged=function(t){this.listbox.baseListBox._settings.onFilterChanged=t},t.prototype.onItemEnterPressed=function(t){this.listbox.baseListBox._settings.onItemEnterPressed=t},t.prototype.onItemDoubleClicked=function(t){this.listbox.baseListBox._settings.onItemDoubleClicked=t},t}();return i}.apply(e,s),!(void 0!==n&&(t.exports=n))},function(t,e,i){var s,n;s=[i,e,i(0)],n=function(t,e,i){"use strict";var s=function(){function t(t,e){this.baseListBox=new i(t,e,this),this.baseListBox.createListbox()}return t.prototype.onItemClick=function(t){if(!t.hasClass(i.LIST_ITEM_CLASS_DISABLED)&&!t.hasClass(i.LIST_ITEM_CLASS_GROUP)){var e=this.baseListBox._target.val();if(t.hasClass(i.LIST_ITEM_CLASS_SELECTED)){t.removeClass(i.LIST_ITEM_CLASS_SELECTED);var s=e.indexOf(JSON.stringify(t.data("dataItem")));e.splice(s,1),t.data("dataItem").selected=!1}else t.addClass(i.LIST_ITEM_CLASS_SELECTED),t.data("dataItem").selected=!0,e||(e=[]),e.push(JSON.stringify(t.data("dataItem")));this.baseListBox._target.val(e),this.baseListBox._target.trigger("change"),this.baseListBox.eventHandler.fireValueChangedEvent(e)}},t.prototype.onFilterChange=function(){},t}();return s}.apply(e,s),!(void 0!==n&&(t.exports=n))},function(t,e,i){var s,n;s=[i,e,i(0)],n=function(t,e,i){"use strict";var s=function(){function t(t,e){this._selectedDomItem=null,this.baseListBox=new i(t,e,this),this.baseListBox.createListbox()}return t.prototype.onItemClick=function(t){t.hasClass(i.LIST_ITEM_CLASS_DISABLED)||t.hasClass(i.LIST_ITEM_CLASS_GROUP)||(this._selectedDomItem&&(this.baseListBox.clearSelection(!0),this._selectedDomItem=null),t.toggleClass(i.LIST_ITEM_CLASS_SELECTED),t.focus(),this._selectedDomItem=t,t.data("dataItem").selected=!0,this.baseListBox._target.val(t.data("dataItem")),this.baseListBox._target.trigger("change"),this.baseListBox.eventHandler.fireValueChangedEvent(t.data("dataItem")))},t.prototype.onFilterChange=function(){if(!this._selectedDomItem||!this._selectedDomItem.is(":visible")){var t=this.baseListBox._list.children(":visible").first();t&&t.length>0&&this.onItemClick(t)}this.baseListBox.eventHandler.fireFilterChangedEvent(this.baseListBox._searchbar.val())},t}();return s}.apply(e,s),!(void 0!==n&&(t.exports=n))},function(t,e,i){var s,n;s=[i,e],n=function(t,e){"use strict";var i=function(){function t(t,e,i){this.eventName=t,this.target=e,this.args=i}return t}();return i.VALUE_CHANGED="valueChanged",i.FILTER_CHANGED="filterChanged",i.ITEMS_CHANGED="itemsChanged",i.ITEM_ENTER_PRESSED="itemEnterPressed",i.ITEM_DOUBLE_CLICKED="itemDoubleClicked",i}.apply(e,s),!(void 0!==n&&(t.exports=n))},function(t,e,i){var s,n;s=[i,e,i(6)],n=function(t,e,i){"use strict";var s=function(){function t(t){this.listBox=t}return t.prototype.fire=function(t,e,s){if(e){var n=new i(t,this.listBox._target,s);e(n)}},t.prototype.fireValueChangedEvent=function(t){this.fire(i.VALUE_CHANGED,this.listBox._settings.onValueChanged,t)},t.prototype.fireItemsChangedEvent=function(t){this.fire(i.ITEMS_CHANGED,this.listBox._settings.onItemsChanged,t)},t.prototype.fireFilterChangedEvent=function(t){this.fire(i.FILTER_CHANGED,this.listBox._settings.onFilterChanged,t)},t.prototype.fireItemEnterPressedEvent=function(t){this.fire(i.ITEM_ENTER_PRESSED,this.listBox._settings.onItemEnterPressed,t)},t.prototype.fireItemDoubleClickedEvent=function(t){this.fire(i.ITEM_DOUBLE_CLICKED,this.listBox._settings.onItemDoubleClicked,t)},t}();return s}.apply(e,s),!(void 0!==n&&(t.exports=n))},function(t,e,i){i(1),t.exports=i(2)}]);
//# sourceMappingURL=extended-listbox-min.js.map