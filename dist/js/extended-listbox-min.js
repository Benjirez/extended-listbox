/*!
 * Extended ListBox
 * Maintainer  Christian Kotzbauer <christian.kotzbauer@gmail.com>
 * Website     https://code-chris.github.io/extended-listbox/documentation/latest/
 * Version     4.0.0-beta.1
 * Released    2017-09-06T20:31:55.192Z
 * License     MIT
 * Copyright   (c) 2017
 */
var extendedlistbox=function(t){function e(s){if(i[s])return i[s].exports;var a=i[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,i){var s,a;s=[i,e],void 0!==(a=function(t,e){"use strict";var i=function(){function t(t,e,i){this._target=t,this._box=i,this._settings=e}return t.prototype.onItemClick=function(t){this._box.onItemClick(t)},t.prototype.onFilterChange=function(){this._box.onFilterChange()},t.prototype.createListbox=function(){this._target.addClass(t.MAIN_CLASS),this._settings.searchBar&&this._createSearchbar(),this._createList()},t.prototype._createSearchbar=function(){var e=$("<div>").addClass(t.SEARCHBAR_CLASS+"-wrapper").appendTo(this._target),i=$("<input>").addClass(t.SEARCHBAR_CLASS).appendTo(e).attr("placeholder",this._settings.searchBarWatermark),s=this;if(i.keyup(function(){var e=$(this).val().toLowerCase();""!==e?(s._list.find("."+t.LIST_ITEM_CLASS).each(function(){var i=$(this);i.hasClass(t.LIST_ITEM_CLASS_GROUP)||(-1!==i.text().toLowerCase().search("^"+e)?(i.css("display","block"),i.parent().css("display","block")):i.css("display","none"))}),s._list.find("."+t.LIST_ITEM_CLASS_GROUP).each(function(){var t=$(this);0===t.children(":visible").length?t.css("display","none"):t.css("display","block")})):s._list.find("."+t.LIST_ITEM_CLASS).each(function(){$(this).css("display","block")}),s.onFilterChange&&s.onFilterChange()}),this._settings.searchBarButton.visible){var a=$("<button>").attr("id","searchBarButton").attr("tabindex","-1").addClass(t.SEARCHBAR_BUTTON_CLASS).appendTo(e);this._settings.searchBarButton.onClick&&a.click(this._settings.searchBarButton.onClick),$("<i>").addClass(this._settings.searchBarButton.icon).appendTo(a)}this._searchbarWrapper=e,this._searchbar=i},t.prototype._createList=function(){if(this._list=$("<div>").addClass(t.LIST_CLASS).appendTo(this._target),this._resizeListToListbox(),this._settings.getItems){var e=this._settings.getItems();if(e)for(var i in e)this.addItem(this._prepareDataItem(e[i]),!0)}},t.prototype._generateItemId=function(){return"listboxitem"+parseInt(""+1e7*Math.random(),10)},t.prototype._prepareDataItem=function(t){var e={childItems:[],disabled:!1,groupHeader:null,id:null,parentGroupId:null,selected:!1,text:null,index:null};if(t.id||(e.id=this._generateItemId()),"string"==typeof t||"number"==typeof t)return e.text=t,e;e=$.extend(e,t);var i=[];for(var s in e.childItems)i.push(this._prepareDataItem(e.childItems[s]));return e.childItems=i,e},t.prototype._addItem=function(e,i,s){var a=this,n=$("<div>").addClass(t.LIST_ITEM_CLASS).text(e.text).attr("id",e.id).attr("title",e.text).attr("tabindex","1").data("dataItem",e).keydown(function(e){var i=$(e.target);i.hasClass(t.LIST_ITEM_CLASS_GROUP)||2!==e.eventPhase||(13===e.which?a.onItemEnterPressed(i):38===e.which?(e.preventDefault(),a.onItemArrowUp(i)):40===e.which&&(e.preventDefault(),a.onItemArrowDown(i)))}).click(function(){a.onItemClick($(this))}).dblclick(function(){var e=$(this);e.hasClass(t.LIST_ITEM_CLASS_GROUP)||a.onItemDoubleClicked(e)});if(e.disabled&&n.addClass(t.LIST_ITEM_CLASS_DISABLED),e.groupHeader&&n.addClass(t.LIST_ITEM_CLASS_GROUP),e.selected&&this.onItemClick(n),e.parentGroupId){var r=this.locateItem(e.parentGroupId);r&&(s=r)}s&&n.addClass(t.LIST_ITEM_CLASS_CHILD);var o=s||this._list;if(void 0===e.index||null===e.index||i?n.appendTo(o):(o=o.children().eq(e.index),n.insertBefore(o)),e.childItems&&e.childItems.length>0){n.hasClass(t.LIST_ITEM_CLASS_GROUP)||n.addClass(t.LIST_ITEM_CLASS_GROUP);var l;for(l=0;l<e.childItems.length;l++){var c=e.childItems[l];this._addItem(c,i,n)}}return e.id},t.prototype.addItem=function(e,i){void 0===i&&(i=!1),i||this._settings.multiple||!e.selected||this.clearSelection(i);var s=this._addItem(this._prepareDataItem(e),i,null);return i||this.fireEvent(t.EVENT_ITEMS_CHANGED,this.getItems()),s},t.prototype.addItems=function(t){var e=this;return t.map(function(t){return e.addItem(t)})},t.prototype.removeItem=function(e){var i=this.locateItem(e);i&&(this._clearItemSelection(i),i.remove(),this.fireEvent(t.EVENT_ITEMS_CHANGED,this.getItems()))},t.prototype.removeItems=function(t){var e=this;t.forEach(function(t){return e.removeItem(t)})},t.prototype.destroy=function(){this._target.children().remove(),this._target.removeClass(t.MAIN_CLASS)},t.prototype._resizeListToListbox=function(){var t=this._target.height();this._settings.searchBar&&(t-=this._searchbarWrapper.outerHeight(!0)),this._list.height(t)},t.prototype.clearSelection=function(e){var i=this._list.find("."+t.LIST_ITEM_CLASS);i.removeClass(t.LIST_ITEM_CLASS_SELECTED);var s;for(s=0;s<i.length;s++)$(i[s]).data("dataItem").selected=!1;this._settings.multiple?this._target.val([]):this._target.val(null),e||this._target.trigger("change")},t.prototype._clearItemSelection=function(e){if(e.removeClass(t.LIST_ITEM_CLASS_SELECTED),e.data("dataItem").selected=!1,this._settings.multiple){var i=this._target.val();if(i){var s=i.indexOf(JSON.stringify(e.data("dataItem")));i.splice(s,1),this._target.val(i)}}else this._target.val(null);this._target.trigger("change")},t.prototype.getItem=function(t){var e=null,i=this.locateItem(t);return i&&(e=i.data("dataItem")),e},t.prototype.getItems=function(){var t,e=[],i=this._list.children();for(t=0;t<i.length;t++)e.push($(i[t]).data("dataItem"));return e},t.prototype.moveItemUp=function(e){var i=null,s=this.locateItem(e);return s&&(s.insertBefore(s.prev()),i=s.index(),s.data("dataItem").index=i),this.fireEvent(t.EVENT_ITEMS_CHANGED,this.getItems()),i},t.prototype.moveItemDown=function(e){var i=null,s=this.locateItem(e);return s&&(s.insertAfter(s.next()),i=s.index(),s.data("dataItem").index=i),this.fireEvent(t.EVENT_ITEMS_CHANGED,this.getItems()),i},t.prototype.moveItemToTop=function(e){var i=null,s=this.locateItem(e);return s&&(s.parent().prepend(s),i=s.index(),s.data("dataItem").index=i),this.fireEvent(t.EVENT_ITEMS_CHANGED,this.getItems()),i},t.prototype.moveItemToBottom=function(e){var i=null,s=this.locateItem(e);return s&&(s.parent().append(s),i=s.index(),s.data("dataItem").index=i),this.fireEvent(t.EVENT_ITEMS_CHANGED,this.getItems()),i},t.prototype.enable=function(e){e?this._target.removeClass(t.MAIN_DISABLED_CLASS):this._target.hasClass(t.MAIN_DISABLED_CLASS)||this._target.addClass(t.MAIN_DISABLED_CLASS)},t.prototype.locateItem=function(t){var e=$("#"+t,this._list);return 0===e.length&&(e=$('div[title="'+t+'"]')),0===e.length&&(e=null),e},t.prototype.onItemEnterPressed=function(e){this.fireEvent(t.EVENT_ITEM_ENTER_PRESSED,e.data("dataItem"))},t.prototype.onItemDoubleClicked=function(e){this.fireEvent(t.EVENT_ITEM_DOUBLE_CLICKED,e.data("dataItem"))},t.prototype.onItemArrowUp=function(t){var e=this.findNextItem(t,"prev");e&&(this._clearItemSelection(t),this.onItemClick(e))},t.prototype.onItemArrowDown=function(t){var e=this.findNextItem(t,"next");e&&(this._clearItemSelection(t),this.onItemClick(e))},t.prototype.findNextItem=function(e,i){for(var s=e;;){if(s=s[i](),0===s.length){var a=e.parent();if(1!==a.length)return null;var n=a[i]().children();s=n.length>0?"next"===i?n.first():n.last():a}if(!s.hasClass(t.LIST_ITEM_CLASS_DISABLED))return s}},t.prototype.getSelection=function(){var t=this.getItems(),e=[].concat(t);return t.forEach(function(t){e=e.concat(t.childItems)}),e.filter(function(t){return t.selected})},t.prototype.fireEvent=function(t,e){var i=this._settings["on"+t[0].toUpperCase()+t.substr(1)];i&&i({eventName:t,target:this._target,args:e})},t}();return i.MAIN_CLASS="listbox-root",i.MAIN_DISABLED_CLASS="listbox-disabled",i.LIST_CLASS="listbox",i.LIST_ITEM_CLASS="listbox-item",i.LIST_ITEM_CLASS_DISABLED="listbox-item-disabled",i.LIST_ITEM_CLASS_SELECTED="listbox-item-selected",i.LIST_ITEM_CLASS_GROUP="listbox-item-group",i.LIST_ITEM_CLASS_CHILD="listbox-item-child",i.SEARCHBAR_CLASS="listbox-searchbar",i.SEARCHBAR_BUTTON_CLASS="listbox-searchbar-button",i.EVENT_VALUE_CHANGED="valueChanged",i.EVENT_FILTER_CHANGED="filterChanged",i.EVENT_ITEMS_CHANGED="itemsChanged",i.EVENT_ITEM_ENTER_PRESSED="itemEnterPressed",i.EVENT_ITEM_DOUBLE_CLICKED="itemDoubleClicked",i}.apply(e,s))&&(t.exports=a)},function(t,e,i){i(2),t.exports=i(6)},function(t,e,i){var s,a;s=[i,e,i(3),i(4),i(5)],void 0!==(a=function(t,e,i,s,a){"use strict";function n(t){var e=$.extend({searchBar:!1,searchBarWatermark:"Search...",searchBarButton:{visible:!1},multiple:!1},t),n=[],r=null,o=this.length>1,l=function(t){o?n.push(t):r=t};return this.each(function(){var t,n,r=$(this);if(r.data("listbox-instance"))return void l(r.data("listbox-instance"));t=e.multiple?new i(r,e):new s(r,e),n=new a(t,r),r.data("listbox",t),r.data("listbox-instance",n),l(n)}),o?n:r}Object.defineProperty(e,"__esModule",{value:!0}),$.fn.listbox=function(t){return"object"!=typeof t&&t?null:n.call(this,t)}}.apply(e,s))&&(t.exports=a)},function(t,e,i){var s,a;s=[i,e,i(0)],void 0!==(a=function(t,e,i){"use strict";return function(){function t(t,e){this.baseListBox=new i(t,e,this),this.baseListBox.createListbox()}return t.prototype.onItemClick=function(t){if(!t.hasClass(i.LIST_ITEM_CLASS_DISABLED)&&!t.hasClass(i.LIST_ITEM_CLASS_GROUP)){var e=this.baseListBox._target.val();if(t.hasClass(i.LIST_ITEM_CLASS_SELECTED)){t.removeClass(i.LIST_ITEM_CLASS_SELECTED);var s=e.indexOf(JSON.stringify(t.data("dataItem")));e.splice(s,1),t.data("dataItem").selected=!1}else t.addClass(i.LIST_ITEM_CLASS_SELECTED),t.data("dataItem").selected=!0,e||(e=[]),e.push(JSON.stringify(t.data("dataItem")));this.baseListBox._target.val(e),this.baseListBox._target.trigger("change"),this.baseListBox.fireEvent(i.EVENT_VALUE_CHANGED,e)}},t.prototype.onFilterChange=function(){},t}()}.apply(e,s))&&(t.exports=a)},function(t,e,i){var s,a;s=[i,e,i(0)],void 0!==(a=function(t,e,i){"use strict";return function(){function t(t,e){this._selectedDomItem=null,this.baseListBox=new i(t,e,this),this.baseListBox.createListbox()}return t.prototype.onItemClick=function(t){t.hasClass(i.LIST_ITEM_CLASS_DISABLED)||t.hasClass(i.LIST_ITEM_CLASS_GROUP)||(this._selectedDomItem&&(this.baseListBox.clearSelection(!0),this._selectedDomItem=null),t.toggleClass(i.LIST_ITEM_CLASS_SELECTED),t.focus(),this._selectedDomItem=t,t.data("dataItem").selected=!0,this.baseListBox._target.val(t.data("dataItem")),this.baseListBox._target.trigger("change"),this.baseListBox.fireEvent(i.EVENT_VALUE_CHANGED,t.data("dataItem")))},t.prototype.onFilterChange=function(){if(!this._selectedDomItem||!this._selectedDomItem.is(":visible")){var t=this.baseListBox._list.children(":visible").first();t&&t.length>0&&this.onItemClick(t)}this.baseListBox.fireEvent(i.EVENT_FILTER_CHANGED,this.baseListBox._searchbar.val())},t}()}.apply(e,s))&&(t.exports=a)},function(t,e,i){var s,a;s=[i,e],void 0!==(a=function(t,e){"use strict";return function(){function t(t,e){this.listbox=t,this.target=e;for(var i=this.listbox.baseListBox,s=["addItem","addItems","removeItem","removeItems","destroy","clearSelection","getItem","getItems","getSelection","moveItemUp","moveItemDown","moveItemToTop","moveItemToBottom","enable"],a=0;a<s.length;a++){var n=s[a];this[n]=i[n].bind(i)}s=["onValueChanged","onItemsChanged","onFilterChanged","onItemEnterPressed","onItemDoubleClicked"];for(var r=this,a=0;a<s.length;a++)!function(t){var e=s[t];r[e]=function(t){i._settings[e]=t}}(a)}return t}()}.apply(e,s))&&(t.exports=a)},function(t,e){}]);
//# sourceMappingURL=extended-listbox-min.js.map