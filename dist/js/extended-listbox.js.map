{"version":3,"sources":["contract/ListboxItem.ts","contract/ListboxSearchBarButtonOptions.ts","event/ListboxEvent.ts","contract/ListboxSettings.ts","event/ListboxEventHandler.ts","BaseListBox.ts","ExtendedListboxInstance.ts","MultiSelectListbox.ts","SingleSelectListbox.ts","infrastructure/Util.ts","JQueryExtendedListbox.ts"],"names":[],"mappings":"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","file":"build/out/js/extended-listbox.js","sourcesContent":["\r\nmodule EL {\r\n    \"use strict\";\r\n\r\n    export class ListboxItem {\r\n        public text: string = null;\r\n        public id: string = null;\r\n        public index: number = null;\r\n        public disabled: boolean = false;\r\n        public selected: boolean = false;\r\n        public groupHeader: boolean = false;\r\n        public parentGroupId: string = null;\r\n        public childItems: ListboxItem[] = [];\r\n    }\r\n}\r\n","\r\nmodule EL {\r\n    \"use strict\";\r\n\r\n    export class ListboxSearchBarButtonOptions {\r\n        public visible: boolean = false;\r\n        public icon: string = null;\r\n        public onClick: () => void = null;\r\n    }\r\n}\r\n","\r\nmodule EL {\r\n    \"use strict\";\r\n\r\n    export class ListboxEvent {\r\n\r\n        public static VALUE_CHANGED: string = \"valueChanged\";\r\n        public static FILTER_CHANGED: string = \"filterChanged\";\r\n        public static ITEMS_CHANGED: string = \"itemsChanged\";\r\n        public static ITEM_ENTER_PRESSED: string = \"itemEnterPressed\";\r\n        public static ITEM_DOUBLE_CLICKED: string = \"itemDoubleClicked\";\r\n\r\n        public eventName: string;\r\n        public target: JQuery;\r\n        public args: any;\r\n\r\n        constructor(eventName: string, target: JQuery, args: any) {\r\n            this.eventName = eventName;\r\n            this.target = target;\r\n            this.args = args;\r\n        }\r\n    }\r\n}\r\n","/// <reference path=\"./ListboxSearchBarButtonOptions.ts\" />\r\n/// <reference path=\"../event/ListboxEvent.ts\" />\r\n\r\nmodule EL {\r\n    \"use strict\";\r\n\r\n    export class ListboxSettings {\r\n        public searchBar: boolean = false;\r\n        public searchBarWatermark: string = 'Search...';\r\n        public searchBarButton: ListboxSearchBarButtonOptions = new ListboxSearchBarButtonOptions();\r\n        public multiple: boolean = false;\r\n        public getItems: () => any[] = null;\r\n        public onValueChanged: (value: ListboxEvent) => void = null;\r\n        public onFilterChanged: (value: ListboxEvent) => void = null;\r\n        public onItemsChanged: (values: ListboxEvent) => void = null;\r\n        public onItemEnterPressed: (values: ListboxEvent) => void = null;\r\n        public onItemDoubleClicked: (values: ListboxEvent) => void = null;\r\n    }\r\n}\r\n","\r\n/// <reference path=\"../BaseListBox.ts\" />\r\n/// <reference path=\"./ListboxEvent.ts\" />\r\n\r\nmodule EL {\r\n    \"use strict\";\r\n\r\n    export class ListboxEventHandler {\r\n\r\n        private listBox: BaseListBox;\r\n\r\n        constructor(listBox: BaseListBox) {\r\n            this.listBox = listBox;\r\n        }\r\n\r\n        private fire(name: string, delegate: Function, args: any): void {\r\n            if (delegate) {\r\n                var event: ListboxEvent = new ListboxEvent(name, this.listBox._target, args);\r\n                delegate(event);\r\n            }\r\n        }\r\n\r\n        public fireValueChangedEvent(args: any): void {\r\n            this.fire(ListboxEvent.VALUE_CHANGED, this.listBox._settings.onValueChanged, args);\r\n        }\r\n\r\n        public fireItemsChangedEvent(args: any): void {\r\n            this.fire(ListboxEvent.ITEMS_CHANGED, this.listBox._settings.onItemsChanged, args);\r\n        }\r\n\r\n        public fireFilterChangedEvent(args: any): void {\r\n            this.fire(ListboxEvent.FILTER_CHANGED, this.listBox._settings.onFilterChanged, args);\r\n        }\r\n\r\n        public fireItemEnterPressedEvent(args: any): void {\r\n            this.fire(ListboxEvent.ITEM_ENTER_PRESSED, this.listBox._settings.onItemEnterPressed, args);\r\n        }\r\n\r\n        public fireItemDoubleClickedEvent(args: any): void {\r\n            this.fire(ListboxEvent.ITEM_DOUBLE_CLICKED, this.listBox._settings.onItemDoubleClicked, args);\r\n        }\r\n    }\r\n}\r\n","/// <reference path=\"./contract/ListboxItem.ts\" />\r\n/// <reference path=\"./contract/ListboxSettings.ts\" />\r\n/// <reference path=\"./event/ListboxEventHandler.ts\" />\r\n\r\nmodule EL {\r\n    \"use strict\";\r\n\r\n    export abstract class BaseListBox {\r\n\r\n        protected static MAIN_CLASS: string = 'listbox-root';\r\n        protected static MAIN_DISABLED_CLASS: string = 'listbox-disabled';\r\n        protected static LIST_CLASS: string = 'listbox';\r\n        protected static LIST_ITEM_CLASS: string = 'listbox-item';\r\n        protected static LIST_ITEM_CLASS_DISABLED: string = 'listbox-item-disabled';\r\n        protected static LIST_ITEM_CLASS_SELECTED: string = 'listbox-item-selected';\r\n        protected static LIST_ITEM_CLASS_GROUP: string = 'listbox-item-group';\r\n        protected static LIST_ITEM_CLASS_CHILD: string = 'listbox-item-child';\r\n        protected static SEARCHBAR_CLASS: string = 'listbox-searchbar';\r\n        protected static SEARCHBAR_BUTTON_CLASS: string = 'listbox-searchbar-button';\r\n\r\n        public _target: JQuery;\r\n        protected _list: JQuery;\r\n        private _searchbarWrapper: JQuery;\r\n        protected _searchbar: JQuery;\r\n\r\n        public _settings: ListboxSettings;\r\n        protected eventHandler: ListboxEventHandler;\r\n\r\n\r\n        /**\r\n         * Create an instance of Listbox. The constructor creates div-based\r\n         * listbox under the given root domelement. It applies the given\r\n         * configuration.\r\n         *\r\n         * @constructor\r\n         * @this {BaseListBox}\r\n         * @param {object} domelement DOM element to be converted to the Listbox\r\n         * @param {object} options an object with Listbox settings\r\n         */\r\n        constructor(domelement: JQuery, options: ListboxSettings) {\r\n            this._target = domelement;\r\n            this._settings = options;\r\n\r\n            this.eventHandler = new ListboxEventHandler(this);\r\n\r\n            this._createListbox();\r\n        }\r\n\r\n\r\n        /**\r\n         * Click handling and triggering from other delegates and events.\r\n         *\r\n         * @this {BaseListBox}\r\n         * @param {object} domItem a DOM object\r\n         */\r\n        protected abstract onItemClick(domItem: JQuery): void;\r\n\r\n        /**\r\n         * Select first visible item if none selected.\r\n         *\r\n         * @this {BaseListBox}\r\n         */\r\n        protected abstract onFilterChange(): void;\r\n\r\n\r\n        /**\r\n         * Creates a `div`-based listbox, which includes such things as\r\n         * container, listbox itself and searchbar as an optional element.\r\n         *\r\n         * @private\r\n         * @this {BaseListBox}\r\n         */\r\n        private _createListbox(): void {\r\n            this._target.addClass(BaseListBox.MAIN_CLASS);\r\n\r\n            if (this._settings.searchBar) {\r\n                this._createSearchbar();\r\n            }\r\n\r\n            this._createList();\r\n        }\r\n\r\n        /**\r\n         * Creates a Listbox's searchbar.\r\n         *\r\n         * @private\r\n         * @this {BaseListBox}\r\n         * @TODO: critical to rewrite this piece of shit\r\n         */\r\n        private _createSearchbar(): void {\r\n            // searchbar wrapper is needed for properly stretch\r\n            // the searchbar over the listbox width\r\n            var searchbarWrapper: JQuery = $('<div>')\r\n                .addClass(BaseListBox.SEARCHBAR_CLASS + '-wrapper')\r\n                .appendTo(this._target);\r\n\r\n            var searchbar: JQuery = $('<input>')\r\n                .addClass(BaseListBox.SEARCHBAR_CLASS)\r\n                .appendTo(searchbarWrapper)\r\n                .attr('placeholder', this._settings.searchBarWatermark);\r\n\r\n            // set filter handler\r\n            var self: BaseListBox = this;\r\n            searchbar.keyup(function (): void {\r\n                var searchQuery: string = $(this).val().toLowerCase();\r\n\r\n                if (searchQuery !== '') {\r\n                    // hide list items which are not matched search query\r\n                    self._list.find(\".\" + BaseListBox.LIST_ITEM_CLASS).each(function (): void {\r\n                        var $this: JQuery = $(this);\r\n\r\n                        if ($this.hasClass(BaseListBox.LIST_ITEM_CLASS_GROUP)) {\r\n                            return;\r\n                        }\r\n\r\n                        var text: string = $this.text().toLowerCase();\r\n\r\n                        if (text.search('^' + searchQuery) !== -1) {\r\n                            $this.css('display', 'block');\r\n                            $this.parent().css('display', 'block');\r\n                        } else {\r\n                            $this.css('display', 'none');\r\n                        }\r\n                    });\r\n\r\n                    // hide group item only, if all childs are hidden\r\n                    self._list.find(\".\" + BaseListBox.LIST_ITEM_CLASS_GROUP).each(function (): void {\r\n                        var $this: JQuery = $(this);\r\n                        if ($this.children(':visible').length === 0) {\r\n                            $this.css('display', 'none');\r\n                        } else {\r\n                            $this.css('display', 'block');\r\n                        }\r\n                    });\r\n                } else {\r\n                    // make visible all list items\r\n                    self._list.find(\".\" + BaseListBox.LIST_ITEM_CLASS).each(function (): void {\r\n                        $(this).css('display', 'block');\r\n                    });\r\n                }\r\n\r\n                // @hack: call special handler which is used only for SingleSelectListbox\r\n                //        to prevent situation when none of items are selected\r\n                if (self.onFilterChange) {\r\n                    self.onFilterChange();\r\n                }\r\n            });\r\n\r\n            if (this._settings.searchBarButton.visible) {\r\n                // create button in search field\r\n                var button: JQuery = $('<button>')\r\n                    .attr('id', 'searchBarButton')\r\n                    .attr('tabindex', '-1')\r\n                    .addClass(BaseListBox.SEARCHBAR_BUTTON_CLASS)\r\n                    .appendTo(searchbarWrapper);\r\n\r\n                if (this._settings.searchBarButton.onClick) {\r\n                    button.click(this._settings.searchBarButton.onClick);\r\n                }\r\n\r\n                // icon for search button\r\n                $('<i>')\r\n                    .addClass(this._settings.searchBarButton.icon)\r\n                    .appendTo(button);\r\n            }\r\n\r\n            // save for using in _resizeListToListbox()\r\n            this._searchbarWrapper = searchbarWrapper;\r\n            this._searchbar = searchbar;\r\n        }\r\n\r\n\r\n        /**\r\n         * Creates a listbox itself.\r\n         *\r\n         * @private\r\n         * @this {BaseListBox}\r\n         */\r\n        private _createList(): void {\r\n            // create container\r\n            this._list = $('<div>')\r\n                .addClass(BaseListBox.LIST_CLASS)\r\n                .appendTo(this._target);\r\n\r\n            this._resizeListToListbox();\r\n\r\n            // create items\r\n            if (this._settings.getItems) {\r\n                var items: any[] = this._settings.getItems();\r\n                if (items) {\r\n                    var index: any;\r\n                    for (index in items) {\r\n                        this.addItem(this._prepareDataItem(items[index]), true);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Generates a new ID for a item.\r\n         *\r\n         * @this {BaseListBox}\r\n         */\r\n        protected _generateItemId(): string {\r\n            var num: number = parseInt(\"\" + (Math.random() * 10000000), 10);\r\n            return \"listboxitem\" + num;\r\n        }\r\n\r\n        /**\r\n         * Prepares the dataobject for one item.\r\n         *\r\n         * @this {BaseListBox}\r\n         * @param {object} dataItem object returned from getItems\r\n         */\r\n        protected _prepareDataItem(dataItem: any): ListboxItem {\r\n            var item: ListboxItem = new ListboxItem();\r\n\r\n            if (!dataItem.id) {\r\n                item.id = this._generateItemId();\r\n            }\r\n\r\n            if (typeof dataItem === \"string\" || typeof dataItem === \"number\") {\r\n                item.text = <string> dataItem;\r\n                return item;\r\n            } else {\r\n                item = $.extend(item, dataItem);\r\n\r\n                var childs: ListboxItem[] = [];\r\n\r\n                var index: any;\r\n                for (index in item.childItems) {\r\n                    childs.push(this._prepareDataItem(item.childItems[index]));\r\n                }\r\n\r\n                item.childItems = childs;\r\n                return item;\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * Add item to the listbox.\r\n         *\r\n         * @this {BaseListBox}\r\n         * @param {object} dataItem display data for item\r\n         * @param {object} internal: true if this function is not called directly as api function.\r\n         * * @param {object} $parent: the DOM parent element\r\n         */\r\n        protected _addItem(dataItem: ListboxItem, internal: boolean, $parent: JQuery): string {\r\n            var self: BaseListBox = this;\r\n            var item: JQuery = $('<div>')\r\n                .addClass(BaseListBox.LIST_ITEM_CLASS)\r\n                .text(dataItem.text)\r\n                .attr(\"id\", dataItem.id)\r\n                .attr(\"title\", dataItem.text)\r\n                .attr(\"tabindex\", \"1\")\r\n                .data(\"dataItem\", dataItem)\r\n                .keydown(function (e: JQueryKeyEventObject): void {\r\n                    var $target: JQuery = $(e.target);\r\n                    if (!$target.hasClass(BaseListBox.LIST_ITEM_CLASS_GROUP) && e.eventPhase === 2) {\r\n                        if (e.which === 13) {\r\n                            // Enter\r\n                            self.onItemEnterPressed($target);\r\n                        } else if (e.which === 38) {\r\n                            // Arrow up\r\n                            e.preventDefault();\r\n                            self.onItemArrowUp($target);\r\n                        } else if (e.which === 40) {\r\n                            // Arrow down\r\n                            e.preventDefault();\r\n                            self.onItemArrowDown($target);\r\n                        }\r\n                    }\r\n                })\r\n                .click(function (): void {\r\n                    self.onItemClick($(this));\r\n                })\r\n                .dblclick(function (): void {\r\n                    var $target: JQuery = $(this);\r\n                    if (!$target.hasClass(BaseListBox.LIST_ITEM_CLASS_GROUP)) {\r\n                        self.onItemDoubleClicked($target);\r\n                    }\r\n                });\r\n\r\n            if (dataItem.disabled) {\r\n                item.addClass(BaseListBox.LIST_ITEM_CLASS_DISABLED);\r\n            }\r\n\r\n            if (dataItem.groupHeader) {\r\n                item.addClass(BaseListBox.LIST_ITEM_CLASS_GROUP);\r\n            }\r\n\r\n            if (dataItem.selected) {\r\n                this.onItemClick(item);\r\n            }\r\n\r\n            if (dataItem.parentGroupId) {\r\n                var $possibleParent: JQuery = this.locateItem(dataItem.parentGroupId);\r\n\r\n                if ($possibleParent) {\r\n                    $parent = $possibleParent;\r\n                }\r\n            }\r\n\r\n            if ($parent) {\r\n                item.addClass(BaseListBox.LIST_ITEM_CLASS_CHILD);\r\n            }\r\n\r\n            var $target: JQuery = $parent ? $parent : this._list;\r\n            if (dataItem.index !== undefined && dataItem.index !== null && !internal) {\r\n                $target = $target.children().eq(dataItem.index);\r\n                item.insertBefore($target);\r\n            } else {\r\n                item.appendTo($target);\r\n            }\r\n\r\n            if (dataItem.childItems && dataItem.childItems.length > 0) {\r\n                if (!item.hasClass(BaseListBox.LIST_ITEM_CLASS_GROUP)) {\r\n                    item.addClass(BaseListBox.LIST_ITEM_CLASS_GROUP);\r\n                }\r\n\r\n                var index: number;\r\n                for (index = 0; index < dataItem.childItems.length; index++) {\r\n                    var child: ListboxItem = dataItem.childItems[index];\r\n                    this._addItem(child, internal, item);\r\n                }\r\n            }\r\n\r\n\r\n            return dataItem.id;\r\n        }\r\n\r\n        /**\r\n         * Add item to the listbox.\r\n         *\r\n         * @this {BaseListBox}\r\n         * @param {object} dataItem display data for item\r\n         * @param {object} internal: true if this function is not called directly as api function.\r\n         */\r\n        public addItem(dataItem: any, internal: boolean): string {\r\n            if (!internal && !this._settings.multiple && dataItem.selected) {\r\n                this.clearSelection(internal);\r\n            }\r\n\r\n            var id: string = this._addItem(this._prepareDataItem(dataItem), internal, null);\r\n\r\n            if (!internal) {\r\n                this.eventHandler.fireItemsChangedEvent(this.getItems());\r\n            }\r\n\r\n            return id;\r\n        }\r\n\r\n\r\n        /**\r\n         * Remove first matching item from the listbox.\r\n         *\r\n         * @this {BaseListBox}\r\n         * @param {string} item: display text or id from item to remove\r\n         */\r\n        public removeItem(item: string): void {\r\n            var uiItem: JQuery = this.locateItem(item);\r\n            if (uiItem) {\r\n                this._clearItemSelection(uiItem);\r\n                uiItem.remove();\r\n\r\n                this.eventHandler.fireItemsChangedEvent(this.getItems());\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * Reverts all changes on the DOM\r\n         *\r\n         * @this {BaseListBox}\r\n         */\r\n        public destroy(): void {\r\n            this._target.children().remove();\r\n            this._target.removeClass(BaseListBox.MAIN_CLASS);\r\n        }\r\n\r\n\r\n        /**\r\n         * Resize list to listbox. It's a small hack since I can't\r\n         * do it with CSS.\r\n         */\r\n        protected _resizeListToListbox(): void {\r\n            var listHeight: number = this._target.height();\r\n\r\n            if (this._settings.searchBar) {\r\n                listHeight -= this._searchbarWrapper.outerHeight(true);\r\n            }\r\n\r\n            this._list.height(listHeight);\r\n        }\r\n\r\n\r\n        /**\r\n         * Clears all selected items.\r\n         */\r\n        public clearSelection(internal: boolean): void {\r\n            // Remove selected class from all other items\r\n            var allItems: JQuery = this._list.find(\".\" + BaseListBox.LIST_ITEM_CLASS);\r\n\r\n            allItems.removeClass(BaseListBox.LIST_ITEM_CLASS_SELECTED);\r\n            var index: number;\r\n            for (index = 0; index < allItems.length; index++) {\r\n                $(allItems[index]).data(\"dataItem\").selected = false;\r\n            }\r\n\r\n            if (this._settings.multiple) {\r\n                this._target.val([]);\r\n            } else {\r\n                this._target.val(null);\r\n            }\r\n\r\n            if (!internal) {\r\n                this._target.trigger('change');\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * Clears selection of given items.\r\n         *\r\n         * @param {object} domItem DOM item\r\n         */\r\n        protected _clearItemSelection(domItem: JQuery): void {\r\n            domItem.removeClass(BaseListBox.LIST_ITEM_CLASS_SELECTED);\r\n            domItem.data(\"dataItem\").selected = false;\r\n\r\n            if (this._settings.multiple) {\r\n                var parentValues: any[] = this._target.val();\r\n                if (parentValues) {\r\n                    var removeIndex: number = parentValues.indexOf(JSON.stringify(domItem.data(\"dataItem\")));\r\n                    parentValues.splice(removeIndex, 1);\r\n                    this._target.val(parentValues);\r\n                }\r\n            } else {\r\n                this._target.val(null);\r\n            }\r\n\r\n            this._target.trigger('change');\r\n        }\r\n\r\n\r\n        /**\r\n         * Returns the dataItem for a given id or text.\r\n         *\r\n         * @param {object} id unique id or text from listItem\r\n         */\r\n        public getItem(id: string): ListboxItem {\r\n            var data: ListboxItem = null;\r\n\r\n            var $item: JQuery = this.locateItem(id);\r\n\r\n            if ($item) {\r\n                data = $item.data(\"dataItem\");\r\n            }\r\n\r\n            return data;\r\n        }\r\n\r\n\r\n        /**\r\n         * Returns all dataItems.\r\n         */\r\n        public getItems(): ListboxItem[] {\r\n            var dataItems: ListboxItem[] = [];\r\n\r\n            var childs: JQuery = this._list.children();\r\n            var index: number;\r\n            for (index = 0; index < childs.length; index++) {\r\n                dataItems.push($(childs[index]).data(\"dataItem\"));\r\n            }\r\n\r\n            return dataItems;\r\n        }\r\n\r\n\r\n        /**\r\n         * Decreases the index of the item by one.\r\n         *\r\n         * @param {object} id unique id or text from listItem\r\n         */\r\n        public moveItemUp(id: string): number {\r\n            var newIndex: number = null;\r\n\r\n            var $item: JQuery = this.locateItem(id);\r\n\r\n            if ($item) {\r\n                $item.insertBefore($item.prev());\r\n                newIndex = $item.index();\r\n                $item.data(\"dataItem\").index = newIndex;\r\n            }\r\n\r\n            this.eventHandler.fireItemsChangedEvent(this.getItems());\r\n\r\n            return newIndex;\r\n        }\r\n\r\n        /**\r\n         * Increases the index of the item by one.\r\n         *\r\n         * @param {object} id unique id or text from listItem\r\n         */\r\n        public moveItemDown(id: string): number {\r\n            var newIndex: number = null;\r\n\r\n            var $item: JQuery = this.locateItem(id);\r\n\r\n            if ($item) {\r\n                $item.insertAfter($item.next());\r\n                newIndex = $item.index();\r\n                $item.data(\"dataItem\").index = newIndex;\r\n            }\r\n\r\n            this.eventHandler.fireItemsChangedEvent(this.getItems());\r\n\r\n            return newIndex;\r\n        }\r\n\r\n        /**\r\n         * Sets the index of the item to zero.\r\n         *\r\n         * @param {object} id unique id or text from listItem\r\n         */\r\n        public moveItemToTop(id: string): number {\r\n            var newIndex: number = null;\r\n\r\n            var $item: JQuery = this.locateItem(id);\r\n\r\n            if ($item) {\r\n                $item.parent().prepend($item);\r\n                newIndex = $item.index();\r\n                $item.data(\"dataItem\").index = newIndex;\r\n            }\r\n\r\n            this.eventHandler.fireItemsChangedEvent(this.getItems());\r\n\r\n            return newIndex;\r\n        }\r\n\r\n        /**\r\n         * Sets the index of the matching item to the highest.\r\n         *\r\n         * @param {object} id unique id or text from listItem\r\n         */\r\n        public moveItemToBottom(id: string): number {\r\n            var newIndex: number = null;\r\n\r\n            var $item: JQuery = this.locateItem(id);\r\n\r\n            if ($item) {\r\n                $item.parent().append($item);\r\n                newIndex = $item.index();\r\n                $item.data(\"dataItem\").index = newIndex;\r\n            }\r\n\r\n            this.eventHandler.fireItemsChangedEvent(this.getItems());\r\n\r\n            return newIndex;\r\n        }\r\n\r\n\r\n        /**\r\n         * Enables or disables the whole component.\r\n         *\r\n         * @param {boolean} enable: new enable value.\r\n         */\r\n        public enable(enable: boolean): void {\r\n            if (enable) {\r\n                this._target.removeClass(BaseListBox.MAIN_DISABLED_CLASS);\r\n            } else if (!this._target.hasClass(BaseListBox.MAIN_DISABLED_CLASS)) {\r\n                this._target.addClass(BaseListBox.MAIN_DISABLED_CLASS);\r\n            }\r\n        }\r\n\r\n        protected locateItem(id: string): JQuery {\r\n            var $item: JQuery = $(\"#\" + id, this._list);\r\n            if ($item.length === 0) {\r\n                $item = $('div[title=\"' + id + '\"]');\r\n            }\r\n\r\n            if ($item.length === 0) {\r\n                $item = null;\r\n            }\r\n\r\n            return $item;\r\n        }\r\n\r\n        /**\r\n         * Called for a keyPressed event with the enter key for a item.\r\n         *\r\n         * @param {JQuery} domItem: the domItem.\r\n         */\r\n        protected onItemEnterPressed(domItem: JQuery): void {\r\n            this.eventHandler.fireItemEnterPressedEvent(domItem.data(\"dataItem\"));\r\n        }\r\n\r\n        /**\r\n         * Called for a doubleClick on a item.\r\n         *\r\n         * @param {JQuery} domItem: the domItem.\r\n         */\r\n        protected onItemDoubleClicked(domItem: JQuery): void {\r\n            this.eventHandler.fireItemDoubleClickedEvent(domItem.data(\"dataItem\"));\r\n        }\r\n\r\n        /**\r\n         * Called for a keyPressed event with the arrow up key for a item.\r\n         *\r\n         * @param {JQuery} domItem: the domItem.\r\n         */\r\n        protected onItemArrowUp(domItem: JQuery): void {\r\n            var prev: JQuery = this.findNextItem(domItem, \"prev\");\r\n\r\n            if (prev) {\r\n                this._clearItemSelection(domItem);\r\n                this.onItemClick(prev);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Called for a keyPressed event with the arrow down key for a item.\r\n         *\r\n         * @param {JQuery} domItem: the domItem.\r\n         */\r\n        protected onItemArrowDown(domItem: JQuery): void {\r\n            var next: JQuery = this.findNextItem(domItem, \"next\");\r\n\r\n            if (next) {\r\n                this._clearItemSelection(domItem);\r\n                this.onItemClick(next);\r\n            }\r\n        }\r\n\r\n        private findNextItem(current: JQuery, direction: string): JQuery {\r\n            var potentialNext: JQuery = current;\r\n\r\n            do {\r\n                potentialNext = potentialNext[direction]();\r\n\r\n                if (potentialNext.length === 0) {\r\n                    var parent: JQuery = current.parent();\r\n                    if (parent.length === 1) {\r\n                        var nextChildren: JQuery = parent[direction]().children();\r\n                        if (nextChildren.length > 0) {\r\n                            potentialNext = direction === \"next\" ? nextChildren.first() : nextChildren.last();\r\n                        } else {\r\n                            potentialNext = parent;\r\n                        }\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                }\r\n\r\n                if (potentialNext.hasClass(BaseListBox.LIST_ITEM_CLASS_DISABLED)) {\r\n                    continue;\r\n                }\r\n\r\n                return potentialNext;\r\n            } while (true);\r\n        }\r\n\r\n        /**\r\n         * Returns all dataItems which are selected.\r\n         */\r\n        public getSelection(): ListboxItem[] {\r\n            var topLevelItems: ListboxItem[] = this.getItems();\r\n            var allItems: ListboxItem[] = [].concat(topLevelItems);\r\n\r\n            topLevelItems.forEach((item: ListboxItem) => {\r\n                allItems = allItems.concat(item.childItems);\r\n            });\r\n\r\n            return allItems.filter((item: ListboxItem) => item.selected);\r\n        }\r\n    }\r\n}\r\n","/// <reference path=\"./BaseListBox.ts\" />\r\n/// <reference path=\"./contract/ListboxItem.ts\" />\r\n/// <reference path=\"./event/ListboxEvent.ts\" />\r\n\r\nmodule EL {\r\n    \"use strict\";\r\n\r\n    export class ExtendedListboxInstance {\r\n\r\n        private listbox: BaseListBox;\r\n        public target: JQuery;\r\n\r\n        public static createFrom(listbox: BaseListBox, target: JQuery): ExtendedListboxInstance {\r\n            var instance: ExtendedListboxInstance = new ExtendedListboxInstance();\r\n            instance.listbox = listbox;\r\n            instance.target = target;\r\n            return instance;\r\n        }\r\n\r\n        public addItem(item: string|ListboxItem): string {\r\n            return this.listbox.addItem(item, false);\r\n        }\r\n\r\n        public removeItem(identifier: string): void {\r\n            this.listbox.removeItem(identifier);\r\n        }\r\n\r\n        public destroy(): void {\r\n            this.listbox.destroy();\r\n        }\r\n\r\n        public clearSelection(): void {\r\n            this.listbox.clearSelection(false);\r\n        }\r\n\r\n        public getItem(identifier: string): ListboxItem {\r\n            return this.listbox.getItem(identifier);\r\n        }\r\n\r\n        public getItems(): ListboxItem[] {\r\n            return this.listbox.getItems();\r\n        }\r\n\r\n        public getSelection(): ListboxItem[] {\r\n            return this.listbox.getSelection();\r\n        }\r\n\r\n        public moveItemUp(identifier: string): number {\r\n            return this.listbox.moveItemUp(identifier);\r\n        }\r\n\r\n        public moveItemDown(identifier: string): number {\r\n            return this.listbox.moveItemDown(identifier);\r\n        }\r\n\r\n        public moveItemToTop(identifier: string): number {\r\n            return this.listbox.moveItemToTop(identifier);\r\n        }\r\n\r\n        public moveItemToBottom(identifier: string): number {\r\n            return this.listbox.moveItemToBottom(identifier);\r\n        }\r\n\r\n        public enable(state: boolean): void {\r\n            this.listbox.enable(state);\r\n        }\r\n\r\n        public onValueChanged(callback: (event: ListboxEvent) => void): void {\r\n            this.listbox._settings.onValueChanged = callback;\r\n        }\r\n\r\n        public onItemsChanged(callback: (event: ListboxEvent) => void): void {\r\n            this.listbox._settings.onItemsChanged = callback;\r\n        }\r\n\r\n        public onFilterChanged(callback: (event: ListboxEvent) => void): void {\r\n            this.listbox._settings.onFilterChanged = callback;\r\n        }\r\n\r\n        public onItemEnterPressed(callback: (event: ListboxEvent) => void): void {\r\n            this.listbox._settings.onItemEnterPressed = callback;\r\n        }\r\n\r\n        public onItemDoubleClicked(callback: (event: ListboxEvent) => void): void {\r\n            this.listbox._settings.onItemDoubleClicked = callback;\r\n        }\r\n    }\r\n}\r\n","/// <reference path=\"./BaseListBox.ts\" />\r\n/// <reference path=\"./contract/ListboxSettings.ts\" />\r\n\r\nmodule EL {\r\n    \"use strict\";\r\n\r\n    export class MultiSelectListbox extends BaseListBox {\r\n\r\n        /**\r\n         * Create an instance of MultiSelectListbox.\r\n         *\r\n         * Inherit a {Listbox} class.\r\n         *\r\n         * @constructor\r\n         * @this {MultiSelectListbox}\r\n         * @param {object} domelement DOM element to be converted to the Listbox\r\n         * @param {object} options an object with Listbox settings\r\n         */\r\n        constructor(domelement: JQuery, options: ListboxSettings) {\r\n            super(domelement, options);\r\n        }\r\n\r\n        /**\r\n         * Toggle item status.\r\n         *\r\n         * @this {MultiSelectListbox}\r\n         * @param {object} domItem a DOM object\r\n         */\r\n        public onItemClick(domItem: JQuery): void {\r\n            if (domItem.hasClass(BaseListBox.LIST_ITEM_CLASS_DISABLED) ||\r\n                domItem.hasClass(BaseListBox.LIST_ITEM_CLASS_GROUP)) {\r\n                return;\r\n            }\r\n\r\n            var parentValues: any[] = this._target.val();\r\n\r\n            if (domItem.hasClass(BaseListBox.LIST_ITEM_CLASS_SELECTED)) {\r\n                domItem.removeClass(BaseListBox.LIST_ITEM_CLASS_SELECTED);\r\n\r\n                var removeIndex: number = parentValues.indexOf(JSON.stringify(domItem.data(\"dataItem\")));\r\n                parentValues.splice(removeIndex, 1);\r\n\r\n                domItem.data(\"dataItem\").selected = false;\r\n            } else {\r\n                domItem.addClass(BaseListBox.LIST_ITEM_CLASS_SELECTED);\r\n                domItem.data(\"dataItem\").selected = true;\r\n\r\n                if (!parentValues) {\r\n                    parentValues = [];\r\n                }\r\n\r\n                parentValues.push(JSON.stringify(domItem.data(\"dataItem\")));\r\n            }\r\n\r\n            this._target.val(parentValues);\r\n            this._target.trigger('change');\r\n\r\n            this.eventHandler.fireValueChangedEvent(parentValues);\r\n        }\r\n\r\n        public onFilterChange(): void {\r\n            return undefined;\r\n        }\r\n    }\r\n}\r\n","/// <reference path=\"./BaseListBox.ts\" />\r\n/// <reference path=\"./contract/ListboxSettings.ts\" />\r\n\r\nmodule EL {\r\n    \"use strict\";\r\n\r\n    export class SingleSelectListbox extends BaseListBox {\r\n\r\n        private _selectedDomItem: JQuery;\r\n\r\n        /**\r\n         * Create an instance of SingleSelectListbox.\r\n         *\r\n         * Inherit a {Listbox} class.\r\n         *\r\n         * @constructor\r\n         * @this {SingleSelectListbox}\r\n         * @param {object} domelement DOM element to be converted to the Listbox\r\n         * @param {object} options an object with Listbox settings\r\n         */\r\n        constructor(domelement: JQuery, options: ListboxSettings) {\r\n            super(domelement, options);\r\n            this._selectedDomItem = null;\r\n        }\r\n\r\n        /**\r\n         * Reset all items and select a given one.\r\n         *\r\n         * @this {SingleSelectListbox}\r\n         * @param {object} domItem a DOM object\r\n         */\r\n        public onItemClick(domItem: JQuery): void {\r\n            if (domItem.hasClass(BaseListBox.LIST_ITEM_CLASS_DISABLED) ||\r\n                domItem.hasClass(BaseListBox.LIST_ITEM_CLASS_GROUP)) {\r\n                return;\r\n            }\r\n\r\n            if (this._selectedDomItem) {\r\n                this.clearSelection(true);\r\n                this._selectedDomItem = null;\r\n            }\r\n\r\n            domItem.toggleClass(BaseListBox.LIST_ITEM_CLASS_SELECTED);\r\n            domItem.focus();\r\n            this._selectedDomItem = domItem;\r\n            domItem.data(\"dataItem\").selected = true;\r\n            this._target.val(domItem.data(\"dataItem\"));\r\n            this._target.trigger('change');\r\n\r\n            this.eventHandler.fireValueChangedEvent(domItem.data(\"dataItem\"));\r\n        }\r\n\r\n\r\n        /**\r\n         * Select first visible item if none selected.\r\n         *\r\n         * @this {SingleSelectListbox}\r\n         */\r\n        public onFilterChange(): void {\r\n            if (!this._selectedDomItem || !this._selectedDomItem.is(':visible')) {\r\n                var element: JQuery = this._list.children(':visible').first();\r\n                if (element && element.length > 0) {\r\n                    this.onItemClick(element);\r\n                }\r\n            }\r\n\r\n            this.eventHandler.fireFilterChangedEvent(this._searchbar.val());\r\n        }\r\n    }\r\n}\r\n","\r\nmodule EL {\r\n    \"use strict\";\r\n\r\n    export class Util {\r\n\r\n        public static deprecatedMethod(method: string, version: string, replacement: string = null): void {\r\n            var warning: string;\r\n            if (replacement) {\r\n                warning = `ExtendedListbox: Method ${method} is deprecated and ` +\r\n                    `will be replaced with ${replacement} in ${version}.`;\r\n            } else {\r\n                warning = `ExtendedListbox: Method ${method} is deprecated and will be removed in ${version}.`;\r\n            }\r\n\r\n            console.warn(warning);\r\n        }\r\n    }\r\n}\r\n","/// <reference path=\"./ExtendedListboxInstance.ts\" />\r\n/// <reference path=\"./BaseListBox.ts\" />\r\n/// <reference path=\"./MultiSelectListbox.ts\" />\r\n/// <reference path=\"./SingleSelectListbox.ts\" />\r\n/// <reference path=\"./contract/ListboxSettings.ts\" />\r\n/// <reference path=\"./infrastructure/Util.ts\" />\r\n\r\nmodule EL {\r\n    \"use strict\";\r\n\r\n    function initializeListBoxFromOptions(options: ListboxSettings): ExtendedListboxInstance|ExtendedListboxInstance[] {\r\n        \"use strict\";\r\n\r\n        var settings: ListboxSettings = new ListboxSettings();\r\n        settings = $.extend(settings, options);\r\n\r\n        var multipleInstances: ExtendedListboxInstance[] = [];\r\n        var singleInstance: ExtendedListboxInstance = null;\r\n        var multipleElements: boolean = this.length > 1;\r\n\r\n        var setInstance: Function = function (instance: ExtendedListboxInstance): void {\r\n            if (multipleElements) {\r\n                multipleInstances.push(instance);\r\n            } else {\r\n                singleInstance = instance;\r\n            }\r\n        };\r\n\r\n        this.each(function (): void {\r\n            var listbox: BaseListBox;\r\n            var instance: ExtendedListboxInstance;\r\n            var $this: JQuery = $(this);\r\n\r\n            if ($this.data('listbox-instance')) {\r\n                setInstance($this.data('listbox-instance'));\r\n                return;\r\n            }\r\n\r\n            if (settings.multiple) {\r\n                listbox = new MultiSelectListbox($this, settings);\r\n            } else {\r\n                listbox = new SingleSelectListbox($this, settings);\r\n            }\r\n\r\n            instance = ExtendedListboxInstance.createFrom(listbox, $this);\r\n\r\n            $this.data('listbox', listbox);\r\n            $this.data('listbox-instance', instance);\r\n\r\n            setInstance(instance);\r\n        });\r\n\r\n        return multipleElements ? multipleInstances : singleInstance;\r\n    }\r\n\r\n    /**\r\n     * @deprecated: This method will be removed in 2.0.0\r\n     *\r\n     * @param functionName\r\n     * @param callArgs\r\n     * @returns {any}\r\n     */\r\n    function callApiFunction(functionName: string, callArgs: any): any {\r\n        \"use strict\";\r\n\r\n        var publicFunctions: string[] = [\"addItem\", \"removeItem\", \"destroy\", \"getItem\", \"getItems\",\r\n            \"moveItemUp\", \"moveItemDown\", \"clearSelection\", \"enable\"];\r\n\r\n\r\n        var ret: any = null;\r\n\r\n        this.each(function (): void {\r\n            var instance: BaseListBox = $(this).data('listbox');\r\n\r\n            Util.deprecatedMethod(functionName, \"2.0.0\", \"corresponding method in class ExtendedListboxInstance\");\r\n\r\n            if (instance == null && window.console && console.error) {\r\n                console.error(\r\n                    'The listbox(\\'' + functionName + '\\') method was called on an ' +\r\n                    'element that is not using ListBox.'\r\n                );\r\n                return;\r\n            }\r\n\r\n            if ($.inArray(functionName, publicFunctions) === -1) {\r\n                console.error(\r\n                    '' + functionName + ' is no public API function.'\r\n                );\r\n                return;\r\n            }\r\n\r\n            var args: any = Array.prototype.slice.call(callArgs, 1);\r\n\r\n            ret = instance[functionName].apply(instance, args);\r\n        });\r\n\r\n        return ret;\r\n    }\r\n\r\n\r\n    /**\r\n     * jQuery plugin definition. Please note, that jQuery's `each()` method\r\n     * returns `false` to stop iteration; otherwise it should return `true`.\r\n     *\r\n     * @param {object} options an object with Listbox settings\r\n     */\r\n    $.fn.listbox = function (options: any): any {\r\n        if (typeof options === 'object' || !options) {\r\n            return initializeListBoxFromOptions.call(this, options);\r\n        } else if (typeof options === 'string') {\r\n            return callApiFunction.call(this, options, arguments);\r\n        }\r\n    };\r\n}\r\n"],"sourceRoot":"/source/"}